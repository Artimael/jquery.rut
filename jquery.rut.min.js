//!     jQuery.rut.js
!function(a){function b(a){return a.replace(/[\.\-]/g,"")}function c(a){rutAndDv=i(a);var b=rutAndDv[0],c=rutAndDv[1];if(!b||!c)return b||a;for(var d="";b.length>3;)d="."+b.substr(b.length-3)+d,b=b.substring(0,b.length-3);return b+d+"-"+c}function d(a){return a.type&&a.type.match(/^key(up|down|press)/)&&(8==a.keyCode||16==a.keyCode||17==a.keyCode||18==a.keyCode||20==a.keyCode||27==a.keyCode||37==a.keyCode||38==a.keyCode||39==a.keyCode||40==a.keyCode||91==a.keyCode)}function e(a,c){if("string"!=typeof a)return!1;var d=b(a);if("boolean"==typeof c.minimumLength){if(c.minimumLength&&d.length<j.minimumLength)return!1}else{var e=parseInt(c.minimumLength,10);if(d.length<e)return!1}var g=d.charAt(d.length-1).toUpperCase(),h=parseInt(d.substr(0,d.length-1));return NaN!==h&&f(h).toString().toUpperCase()===g}function f(a){var b=0,c=2;if("number"==typeof a){a=a.toString();for(var d=a.length-1;d>=0;d--)b+=a.charAt(d)*c,c=(c+1)%8||2;switch(b%11){case 1:return"k";case 0:return 0;default:return 11-b%11}}}function g(a,b){a.val(c(a.val()))}function h(a,b){e(a.val(),a.opts)?a.trigger("rutValido",i(a.val())):a.trigger("rutInvalido")}function i(a){var c=b(a);if(0==c.length)return[null,null];if(1==c.length)return[c,null];var d=c.charAt(c.length-1),e=c.substring(0,c.length-1);return[e,d]}var j={validateOn:"blur",formatOn:"blur",ignoreControlKeys:!0,minimumLength:2},k={init:function(b){if(this.length>1)for(var c=0;c<this.length;c++)console.log(this[c]),a(this[c]).rut(b);else{var e=this;e.opts=a.extend({},j,b),e.opts.formatOn&&e.on(e.opts.formatOn,function(a){e.opts.ignoreControlKeys&&d(a)||g(e,a)}),e.opts.validateOn&&e.on(e.opts.validateOn,function(a){h(e,a)})}return this}};a.fn.rut=function(b){return k[b]?k[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("El mÃ©todo "+b+" no existe en jQuery.rut"):k.init.apply(this,arguments)},a.computeDv=function(a){var c=b(a);return f(parseInt(c,10))},a.formatRut=function(a){return c(a)},a.validateRut=function(b,c,d){var d=d||{};if(e(b,d)){var f=i(b);return a.isFunction(c)&&c(f[0],f[1]),!0}return!1}}(jQuery);
//# sourceMappingURL=jquery.rut.min.js.map